---
import BaseHead from '../components/BaseHead.astro';
import Header from '../components/Header.astro';
import IntroSection from '../components/IntroSection.astro';
import ReelBlock from '../components/ReelBlock.astro';
import Footer from '../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../consts';
import type { Reel } from '../types';
import ReelSection from '../components/ReelSection.astro';

const dummyProducts = Array.from({ length: 6 }, (_, i) => ({
  id: `item-${i + 1}`,
  name: `Elegant Gold Ring #${i + 1}`,
  imageUrl: '/testImage.png',
  price: Math.floor(Math.random() * 10000),
  currency: 'INR', // Fix: explicitly set currency to 'INR' to match the type
  isSoldOut: i % 2 === 0, // alternate availability
}));

const dummyReel: Reel = {
  dropId: 1,
  reelUrl: 'https://www.instagram.com/reel/CRW2aLwhgk2/',
  datePosted: '2025-05-11',
  thumbnail: '/reel-thumb.jpg',
  products: dummyProducts,
  profileLink: 'https://www.instagram.com/deepas_silver_jewelry/',
  authorName: 'deepas_silver_jewelry',
  profileImage: '/instadp.jpeg',
};

const dummyReels = Array.from({ length: 3 }, (_, i) => ({
  dropId: i + 1,
  reelUrl: 'https://www.instagram.com/reel/CRW2aLwhgk2/',
  datePosted: `2025-05-${10 + i}`,
  thumbnail: '/reel-thumb.jpg',
  products: Array.from({ length: 6 }, (__, j) => ({
    id: `item-${i + 1}-${j + 1}`,
    name: `Elegant Gold Ring #${i * 6 + j + 1}`,
    imageUrl: '/testImage.png',
    price: Math.floor(Math.random() * 10000),
    currency: 'INR',
    isSoldOut: (j + i) % 2 === 0,
  })),
  profileLink: 'https://www.instagram.com/deepas_silver_jewelry/',
  authorName: 'deepas_silver_jewelry',
  profileImage: '/instadp.jpeg',
}));
---

<!doctype html>
<html lang="en">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
	</head>
	<body>
		<Header />
		<IntroSection />
		<main>
			{dummyReels.map((reel) => (
				<ReelBlock reel={reel} />
			))}
		</main>
		<Footer />
	</body>
</html>

<style is:global>
	:root {
		--accent: 136, 58, 234;
		--accent-light: 224, 204, 250;
		--accent-dark: 49, 10, 101;
		--accent-gradient: linear-gradient(45deg, rgb(var(--accent)), rgb(var(--accent-light)) 30%, white 60%);
	}
	
	html {
		font-family: system-ui, sans-serif;
		background: #121212;
		background-size: 224px;
	}
	
	body {
		margin: 0;
		padding: 0;
		color: #fff;
	}
	
	code {
		font-family: Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono,
			Bitstream Vera Sans Mono, Courier New, monospace;
	}
</style>
